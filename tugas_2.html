
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Prediksi Harga Daging Ayam &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tugas_2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Klasifikasi untuk Baju Thrifting" href="tugas_3.html" />
    <link rel="prev" title="Prediksi Penyakit Diabetes" href="tugas_1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="My sample book - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    PROYEK SAINS DATA
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas_1.html">Prediksi Penyakit Diabetes</a></li>

























<li class="toctree-l1 current active"><a class="current reference internal" href="#">Prediksi Harga Daging Ayam</a></li>







<li class="toctree-l1"><a class="reference internal" href="tugas_3.html">Klasifikasi untuk Baju Thrifting</a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ftugas_2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tugas_2.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Prediksi Harga Daging Ayam</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Prediksi Harga Daging Ayam</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latar-belakang">Latar Belakang</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rumusan-masalah">Rumusan Masalah</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-data-undersanding">a. Data undersanding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengubah-format-kolom-dan-tanggal-menjadi-datatime">Mengubah format kolom dan tanggal menjadi datatime</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-plotting-data">b. Plotting Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-ektrasi-data">c. Ektrasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-visualisasi-data">d. Visualisasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#e-preprocessing-data">e. Preprocessing Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#f-normalisasi">f. Normalisasi</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#g-modelling">g. Modelling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gunakan-xt-sebagai-target">Gunakan ‘xt’ sebagai target</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pisahkan-fitur-x-dan-target-y">Pisahkan fitur (X) dan target (y)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bagi-data-menjadi-training-dan-testing">Bagi data menjadi training dan testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#buat-model-regresi-linier">Buat model regresi linier</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#latih-model-dengan-data-training">Latih model dengan data training</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-dengan-data-testing">Prediksi dengan data testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model">Evaluasi model</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="prediksi-harga-daging-ayam">
<h1>Prediksi Harga Daging Ayam<a class="headerlink" href="#prediksi-harga-daging-ayam" title="Link to this heading">#</a></h1>
<section id="latar-belakang">
<h2>Latar Belakang<a class="headerlink" href="#latar-belakang" title="Link to this heading">#</a></h2>
<p style="text-indent: 50px; text-align: justify;"> Harga daging ayam merupakan peran penting dalam perekonomian masyarakat, terutama dalam aspek pangan dan juga peternakan. Daging ayam merupakan sumber protein utama yang banyak peminatnya untuk dikonsumsi sehari-hari. Prediksi ini sangat bermanfaat untuk peternak dan juga konsumen untuk memantau harga daging ayam. Saya mengambil data Prediksi Harga Daging Ayam dari website https://www.bi.go.id/hargapangan/TabelHarga/ PasarModernDaerah# yang selanjutnya akan saya uji sebagai proyek dari matakuliah saya, yaitu Proyek Sains Data. Untuk lebih jelasnya dapat disimak langkah-langkah dalam mengerjakan proyek ini.<p>
</section>
<section id="rumusan-masalah">
<h2>Rumusan Masalah<a class="headerlink" href="#rumusan-masalah" title="Link to this heading">#</a></h2>
<p style="text-indent: 50px; text-align: justify;"> 1. Bagaimana cara untuk melihat harga daging ayam per minggu?
2. Bagaimana peternak bisa memprediksi harga ayam per minggu? <p>
</section>
<section id="tujuan">
<h2>Tujuan<a class="headerlink" href="#tujuan" title="Link to this heading">#</a></h2>
<p style="text-indent: 50px; text-align: justify;">Pada pekerjaan kali ini, saya akan melalukan klasifikasi untuk prediksi harga daging ayam. Tujuan pekerjaan ini adalah untuk membantu prediksi harga daging ayam per minggu pada tahun 2021. Dataset yang digunakan dataset "prediksi harga daging ayam" yang saya ambil dari Pusat Informasi Harga Pangan Strategis Nasional (PIHPS).<p>
<section id="a-data-undersanding">
<h3>a. Data undersanding<a class="headerlink" href="#a-data-undersanding" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="n">color_pal</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;fivethirtyeight&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># URL raw dari file Excel di GitHub (URL yang benar)</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/Fentryca/Proyek-Sains-Data/raw/main/PSD/Daging_Ayam.xlsx&quot;</span>

<span class="c1"># Membaca file Excel dari URL</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Mengurutkan ulang data jika diperlukan (misalnya dari yang terbaru ke terlama)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Menampilkan 5 baris pertama dari data</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
	Day	Daging Ayam
0	11/ 10/ 2024	44,400
1	10/ 10/ 2024	44,400
2	09/ 10/ 2024	46,050
3	08/ 10/ 2024	44,150
4	07/ 10/ 2024	44,150
<p>
</section>
<section id="mengubah-format-kolom-dan-tanggal-menjadi-datatime">
<h3>Mengubah format kolom dan tanggal menjadi datatime<a class="headerlink" href="#mengubah-format-kolom-dan-tanggal-menjadi-datatime" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ubah format kolom &#39;Day&#39; menjadi datetime dengan dayfirst=True</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Menampilkan 5 baris pertama untuk verifikasi</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
Day	Daging Ayam
0	2024-10-11	44,400
1	2024-10-10	44,400
2	2024-10-09	46,050
3	2024-10-08	44,150
4	2024-10-07	44,150
<p>
```{code-cell} python
# Melihat semua nama kolom dalam data
df.columns
```
<p style="text-indent: 50px; text-align: justify;">
# Melihat semua nama kolom dalam data df.columns<p>
</section>
<section id="b-plotting-data">
<h3>b. Plotting Data<a class="headerlink" href="#b-plotting-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Membuat visualisasi harga daging ayam dari waktu ke waktu</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># Plot data tanggal dan harga daging ayam</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Day&quot;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Pengaturan label sumbu dan judul</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Day&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Daging Ayam&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="c1">#plt.title(&quot;Daging Ayam Ras Segar&quot;, fontsize=16)</span>

<span class="c1"># Menampilkan plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
Day
count	205
mean	2024-05-22 00:00:00
min	2024-01-01 00:00:00
25%	2024-03-12 00:00:00
50%	2024-05-22 00:00:00
75%	2024-08-01 00:00:00
max	2024-10-11 00:00:00
<p>
</section>
<section id="c-ektrasi-data">
<h3>c. Ektrasi Data<a class="headerlink" href="#c-ektrasi-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Membuat pergeseran data pada kolom &#39;Daging Ayam&#39;</span>
<span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;xt-3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;xt-2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;xt-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;xt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_slide</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">]</span>

<span class="c1"># Menghapus kolom asli &#39;Daging Ayam Ras Segar&#39;</span>
<span class="n">df_slide</span> <span class="o">=</span> <span class="n">df_slide</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Daging Ayam&#39;</span><span class="p">])</span>

<span class="c1"># Menampilkan 5 baris pertama dari dataframe yang sudah diubah</span>
<span class="n">df_slide</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
<p>Day	xt-3	xt-2	xt-1	xt
0	2024-10-11	44,150	46,050	44,400	44,400
1	2024-10-10	44,150	44,150	46,050	44,400
2	2024-10-09	44,150	44,150	44,150	46,050
3	2024-10-08	44,150	44,150	44,150	44,150
4	2024-10-07	44,150	44,150	44,150	44,150</p>
<p><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_slide</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
0
Day	datetime64[ns]
xt-3	object
xt-2	object
xt-1	object
xt	object
<p>dtype: object<p></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_slide</span> <span class="o">=</span> <span class="n">df_slide</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Day&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="d-visualisasi-data">
<h3>d. Visualisasi Data<a class="headerlink" href="#d-visualisasi-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Mengambil semua kolom fitur dari dataframe df</span>
<span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>  <span class="c1"># Ambil semua kolom dari df</span>

<span class="c1"># Menghitung jumlah subplot yang diperlukan</span>
<span class="n">num_features</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">num_cols</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Membuat subplot dengan 2 kolom</span>
<span class="n">num_rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_features</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="n">num_cols</span>  <span class="c1"># Pembulatan ke atas untuk jumlah baris</span>

<span class="c1"># Membuat subplot sesuai dengan jumlah fitur</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">num_rows</span> <span class="o">*</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Mengubah axs menjadi array 2D jika hanya ada satu baris</span>
<span class="k">if</span> <span class="n">num_features</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">axs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">axs</span><span class="p">]])</span>
<span class="c1"># Melakukan plotting untuk setiap fitur</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="n">num_cols</span>  <span class="c1"># Menentukan baris subplot</span>
    <span class="n">col</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">num_cols</span>   <span class="c1"># Menentukan kolom subplot</span>

    <span class="c1"># Pastikan axs memiliki dimensi yang sesuai (misalnya jika hanya satu fitur, axs bisa berupa satu sumbu)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="k">if</span> <span class="n">num_features</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">axs</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Plot histogram</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribusi dari </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frekuensi&#39;</span><span class="p">)</span>

<span class="c1"># Menghapus subplot yang tidak terpakai jika jumlah fitur ganjil</span>
<span class="k">if</span> <span class="n">num_features</span> <span class="o">%</span> <span class="n">num_cols</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Menghapus subplot terakhir yang tidak terpakai</span>

<span class="c1"># Menyesuaikan layout agar lebih rapi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Menampilkan plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_slide</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p style="text-indent: 50px; text-align: justify;">
xt-3    3
xt-2    2
xt-1    1
xt      0
dtype: int64<p><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mengambil semua kolom fitur dari dataframe df (kecuali &#39;Tanggal&#39;)</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Day&#39;</span><span class="p">)</span>  <span class="c1"># Ambil semua kolom kecuali kolom tanggal</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;tab10&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">features</span><span class="p">))</span>  <span class="c1"># Mengambil colormap untuk warna</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># Melakukan plotting untuk setiap fitur</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="n">feature</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Harga Daging Ayam&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Day&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Harga&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>  <span class="c1"># Memutar label pada sumbu x agar lebih jelas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sb</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xt-3&#39;</span><span class="p">,</span> <span class="s1">&#39;xt-2&#39;</span><span class="p">,</span> <span class="s1">&#39;xt-1&#39;</span><span class="p">,</span> <span class="s1">&#39;xt&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
  <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">sb</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">df_slide</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="e-preprocessing-data">
<h3>e. Preprocessing Data<a class="headerlink" href="#e-preprocessing-data" title="Link to this heading">#</a></h3>
<p style="text-indent: 50px; text-align: justify;">Missing value<p><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_slide_cleaned</span> <span class="o">=</span> <span class="n">df_slide</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df_slide_cleaned</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="f-normalisasi">
<h3>f. Normalisasi<a class="headerlink" href="#f-normalisasi" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cek apakah kolom selain &#39;Day&#39; memang berisi NaN sebelum normalisasi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data sebelum normalisasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_slide_cleaned</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Day&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2024-10-11&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-10-10&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-10-09&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-10-08&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-10-07&#39;</span><span class="p">],</span>
    <span class="s1">&#39;xt-3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span> <span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span><span class="p">],</span>
    <span class="s1">&#39;xt-2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">46050</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span><span class="p">],</span>
    <span class="s1">&#39;xt-1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">44400</span><span class="p">,</span> <span class="mi">46050</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span> <span class="p">,</span> <span class="mi">44150</span><span class="p">],</span>
    <span class="s1">&#39;xt&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">44400</span><span class="p">,</span> <span class="mi">44400</span><span class="p">,</span> <span class="mi">46050</span><span class="p">,</span> <span class="mi">44150</span><span class="p">,</span> <span class="mi">44150</span> <span class="p">]</span>
<span class="p">}</span>

<span class="n">df_slide_cleaned</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_slide_cleaned</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_slide_cleaned</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">])</span>  <span class="c1"># Pastikan kolom Day berbentuk datetime jika dibutuhkan</span>

<span class="c1"># Memisahkan kolom &#39;Day&#39; dari data yang akan dinormalisasi</span>
<span class="n">Day_column</span> <span class="o">=</span> <span class="n">df_slide_cleaned</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">]</span>
<span class="n">data_to_normalize</span> <span class="o">=</span> <span class="n">df_slide_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">])</span>

<span class="c1"># Normalisasi Min-Max pada data selain &#39;Day&#39;</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">data_normalized</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data_to_normalize</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">data_to_normalize</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Menambahkan kembali kolom &#39;Day&#39; yang asli</span>
<span class="n">df_normalized</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">Day_column</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">data_normalized</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Tampilkan hasil normalisasi yang sudah dirapikan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_normalized</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="g-modelling">
<h3>g. Modelling<a class="headerlink" href="#g-modelling" title="Link to this heading">#</a></h3>
<p style="text-indent: 50px; text-align: justify;">Modelling Data Regresi Linear<p>
```{code-cell} python
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="gunakan-xt-sebagai-target">
<h1>Gunakan ‘xt’ sebagai target<a class="headerlink" href="#gunakan-xt-sebagai-target" title="Link to this heading">#</a></h1>
<p>target_column = ‘xt’  # Kolom target</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="pisahkan-fitur-x-dan-target-y">
<h1>Pisahkan fitur (X) dan target (y)<a class="headerlink" href="#pisahkan-fitur-x-dan-target-y" title="Link to this heading">#</a></h1>
<p>X = df_slide_cleaned[[‘xt-3’, ‘xt-2’, ‘xt-1’]]  # Fitur (kolom lain)
y = df_slide_cleaned[target_column]  # Kolom target (‘xt’)</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="bagi-data-menjadi-training-dan-testing">
<h1>Bagi data menjadi training dan testing<a class="headerlink" href="#bagi-data-menjadi-training-dan-testing" title="Link to this heading">#</a></h1>
<p>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="buat-model-regresi-linier">
<h1>Buat model regresi linier<a class="headerlink" href="#buat-model-regresi-linier" title="Link to this heading">#</a></h1>
<p>model_lr = LinearRegression()</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="latih-model-dengan-data-training">
<h1>Latih model dengan data training<a class="headerlink" href="#latih-model-dengan-data-training" title="Link to this heading">#</a></h1>
<p>model_lr.fit(X_train, y_train)</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="prediksi-dengan-data-testing">
<h1>Prediksi dengan data testing<a class="headerlink" href="#prediksi-dengan-data-testing" title="Link to this heading">#</a></h1>
<p>y_pred = model_lr.predict(X_test)</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi-model">
<h1>Evaluasi model<a class="headerlink" href="#evaluasi-model" title="Link to this heading">#</a></h1>
<p>mse = mean_squared_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)</p>
<p>print(f”Mean Squared Error (MSE): {mse}”)
print(f”R-squared (R2): {r2}”)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```{code-cell} python
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

# Misalkan &#39;df_slide_cleaned&#39; sudah ada, dan ini adalah bagian fitur dan target
X = df_slide_cleaned[[&#39;xt-3&#39;, &#39;xt-2&#39;, &#39;xt-1&#39;]]
y = df_slide_cleaned[&#39;xt&#39;]

# Pisahkan salah satu fitur untuk visualisasi sederhana (misalnya xt-1)
X_single = X[&#39;xt-1&#39;]

# Buat plot untuk regresi linier
plt.figure(figsize=(10,6))

# Plot scatter plot data asli
sns.scatterplot(x=X_single, y=y, label=&quot;Data Asli&quot;)

# Plot garis regresi
sns.regplot(x=X_single, y=y, line_kws={&quot;color&quot;: &quot;red&quot;}, label=&quot;Garis Regresi&quot;)

# Tambahkan judul dan label sumbu
plt.title(&#39;Model Regresi Linier untuk Prediksi xt berdasarkan xt-1&#39;)
plt.xlabel(&#39;xt-1&#39;)
plt.ylabel(&#39;xt&#39;)

# Tampilkan legenda
plt.legend()

# Tampilkan plot
plt.show()
</pre></div>
</div>
<p style="text-indent: 50px; text-align: justify;">Modelling Random Forest<p><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import library yang dibutuhkan</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Misalkan data kamu ada dalam variabel X dan y</span>
<span class="c1"># X adalah fitur (misal data input), y adalah target (misal label/output yang ingin diprediksi)</span>
<span class="c1"># Kamu perlu mendefinisikan X dan y sesuai dengan dataset kamu, misalnya:</span>
<span class="c1"># X = data_fitur</span>
<span class="c1"># y = data_target</span>

<span class="c1"># Membagi data menjadi data pelatihan (train) dan data uji (test)</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Inisialisasi dan latih model Random Forest</span>
<span class="n">rf_model</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># Membuat instance RandomForestRegressor dengan 100 pohon dan seed untuk reproduksibilitas.</span>
<span class="n">rf_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  <span class="c1"># Melatih model dengan data pelatihan.</span>

<span class="c1"># Prediksi pada data uji</span>
<span class="n">y_pred_rf</span> <span class="o">=</span> <span class="n">rf_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>  <span class="c1"># Menggunakan model untuk memprediksi nilai pada data uji.</span>

<span class="c1"># Evaluasi model</span>
<span class="n">mse_rf</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">)</span>  <span class="c1"># Menghitung Mean Squared Error (MSE) untuk prediksi Random Forest.</span>
<span class="n">r2_rf</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">)</span>  <span class="c1"># Menghitung R-squared (R²) untuk mengevaluasi model.</span>

<span class="c1"># Menghitung RMSE</span>
<span class="n">rmse_rf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse_rf</span><span class="p">)</span>  <span class="c1"># Menghitung Root Mean Squared Error (RMSE) dari MSE.</span>

<span class="c1"># Menghitung MAPE (Mean Absolute Percentage Error)</span>
<span class="n">mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_test</span> <span class="o">-</span> <span class="n">y_pred_rf</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_test</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>  <span class="c1"># Menghitung Mean Absolute Percentage Error (MAPE).</span>

<span class="c1"># Menampilkan hasil evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Root Mean Squared Error (Random Forest): </span><span class="si">{</span><span class="n">rmse_rf</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Mencetak RMSE untuk model Random Forest.</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Mean Squared Error (Random Forest): </span><span class="si">{</span><span class="n">mse_rf</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Mencetak MSE untuk model Random Forest.</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;R-squared (Random Forest): </span><span class="si">{</span><span class="n">r2_rf</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Mencetak R² untuk model Random Forest.</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;MAPE (Random Forest): </span><span class="si">{</span><span class="n">mape</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">)</span>  <span class="c1"># Mencetak MAPE untuk model Random Forest.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mengambil tanggal dari DataFrame asli sesuai dengan index y_test</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">y_test</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Day&#39;</span><span class="p">]</span>  <span class="c1"># Mengambil hari dari DataFrame asli berdasarkan index dari y_test.</span>

<span class="c1"># Create a DataFrame to hold the actual vs predicted results for Random Forest with date index</span>
<span class="n">results_random_forest</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="n">dates</span><span class="p">,</span> <span class="s1">&#39;Actual&#39;</span><span class="p">:</span> <span class="n">y_test</span><span class="p">,</span> <span class="s1">&#39;Predicted&#39;</span><span class="p">:</span> <span class="n">y_pred_rf</span><span class="p">})</span>
<span class="c1"># Membuat DataFrame baru untuk menyimpan hasil aktual dan prediksi dari model Random Forest dengan kolom tanggal.</span>

<span class="n">results_random_forest</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Mengatur kolom &#39;Date&#39; sebagai index DataFrame.</span>

<span class="c1"># Plotting the Actual vs Predicted values with dashed lines</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Mengatur ukuran figure untuk plot.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_random_forest</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">results_random_forest</span><span class="p">[</span><span class="s1">&#39;Actual&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Actual&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="c1"># Menggambar garis untuk nilai aktual dengan marker bulat dan garis putus-putus.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_random_forest</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">results_random_forest</span><span class="p">[</span><span class="s1">&#39;Predicted&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Predicted&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
<span class="c1"># Menggambar garis untuk nilai prediksi dengan marker silang dan garis putus-putus.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Actual vs Predicted Values (Random Forest)&#39;</span><span class="p">)</span>  <span class="c1"># Menambahkan judul pada plot.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Index&#39;</span><span class="p">)</span>  <span class="c1"># Menambahkan label sumbu x.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Values&#39;</span><span class="p">)</span>  <span class="c1"># Menambahkan label sumbu y.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>  <span class="c1"># Menampilkan legenda untuk membedakan antara nilai aktual dan prediksi.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Menambahkan grid pada plot.</span>

<span class="c1"># Display the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>  <span class="c1"># Memutar label sumbu x untuk meningkatkan keterbacaan.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>  <span class="c1"># Menyesuaikan layout untuk menghindari tumpang tindih label.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># Menampilkan plot.</span>
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tugas_1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Prediksi Penyakit Diabetes</p>
      </div>
    </a>
    <a class="right-next"
       href="tugas_3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Klasifikasi untuk Baju Thrifting</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Prediksi Harga Daging Ayam</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latar-belakang">Latar Belakang</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rumusan-masalah">Rumusan Masalah</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-data-undersanding">a. Data undersanding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengubah-format-kolom-dan-tanggal-menjadi-datatime">Mengubah format kolom dan tanggal menjadi datatime</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-plotting-data">b. Plotting Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-ektrasi-data">c. Ektrasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-visualisasi-data">d. Visualisasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#e-preprocessing-data">e. Preprocessing Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#f-normalisasi">f. Normalisasi</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#g-modelling">g. Modelling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gunakan-xt-sebagai-target">Gunakan ‘xt’ sebagai target</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pisahkan-fitur-x-dan-target-y">Pisahkan fitur (X) dan target (y)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bagi-data-menjadi-training-dan-testing">Bagi data menjadi training dan testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#buat-model-regresi-linier">Buat model regresi linier</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#latih-model-dengan-data-training">Latih model dengan data training</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-dengan-data-testing">Prediksi dengan data testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model">Evaluasi model</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>